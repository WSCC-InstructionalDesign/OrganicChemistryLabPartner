<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Organic Chemistry Lab Partner</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f8f9fa;
            margin: 0;
            padding: 0;
            color: #2c3e50;
            height: 800px;
            min-height: 800px;
            overflow: hidden;
        }
        
        .container {
            background: white;
            width: 100%;
            height: 800px;
            min-height: 800px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            border: none;
        }
        
        .header {
            background: linear-gradient(45deg, #2c3e50, #34495e);
            color: white;
            padding: 10px 20px;
            text-align: center;
            flex-shrink: 0;
            min-height: 80px;
        }
        
        .bot-avatar {
            width: 35px;
            height: 35px;
            background: #3498db;
            border-radius: 50%;
            margin: 0 auto 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: white;
        }
        
        .bot-name {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .bot-description {
            font-size: 13px;
            opacity: 0.9;
        }
        
        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: #f8f9fa;
            min-height: 0;
        }
        
        .info-panel {
            background: #ecf0f1;
            border-bottom: 1px solid #bdc3c7;
            padding: 12px 20px;
            flex-shrink: 0;
        }
        
        .info-title {
            color: #2c3e50;
            font-weight: bold;
            margin-bottom: 6px;
            font-size: 14px;
        }
        
        .info-text {
            color: #2c3e50;
            line-height: 1.3;
            font-size: 12px;
        }
        
        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            overflow-x: hidden;
            background: white;
            height: 350px;
            scroll-behavior: smooth;
        }
        
        .message {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
        
        .message.user {
            flex-direction: row-reverse;
        }
        
        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #3498db;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: bold;
            flex-shrink: 0;
        }
        
        .message.user .message-avatar {
            background: #2c3e50;
            color: white;
        }
        
        .message-content {
            background: #f8f9fa;
            padding: 12px 15px;
            border-radius: 15px;
            max-width: 75%;
            line-height: 1.4;
            color: #2c3e50;
            border: 1px solid #dee2e6;
            font-size: 13px;
        }
        
        .message.user .message-content {
            background: #2c3e50;
            color: white;
            border: 1px solid #2c3e50;
        }
        
        .chat-input-area {
            padding: 25px;
            background: white;
            border-top: 1px solid #e1e8ed;
        }
        
        .input-container {
            display: flex;
            gap: 12px;
            align-items: center;
        }
        
        .chat-input {
            flex: 1;
            border: 2px solid #ddd;
            border-radius: 25px;
            padding: 15px 20px;
            font-size: 16px;
            outline: none;
            transition: border-color 0.3s ease;
        }
        
        .chat-input:focus {
            border-color: #3498db;
        }
        
        .send-button {
            background: #3498db;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: bold;
        }
        
        .send-button:hover {
            background: #2980b9;
        }
        
        .quick-topics {
            margin-bottom: 20px;
        }
        
        .topics-title {
            font-weight: bold;
            margin-bottom: 12px;
            color: #2c3e50;
        }
        
        .topic-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .topic-btn {
            background: #ecf0f1;
            border: 2px solid #34495e;
            color: #2c3e50;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .topic-btn:hover {
            background: #34495e;
            color: white;
        }
        
        .chemical-formula {
            background: #2c3e50;
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-weight: bold;
        }
        
        .reference-data {
            background: #f8f9fa;
            border: 2px solid #34495e;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .reference-title {
            color: #2c3e50;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        
        .data-table th,
        .data-table td {
            padding: 8px 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .data-table th {
            background: #34495e;
            color: white;
            font-weight: bold;
        }
        
        @media (max-width: 768px) {
            .container {
                height: 90vh;
            }
            
            .topic-buttons {
                flex-direction: column;
            }
            
            .topic-btn {
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <div class="container">
        <header class="header">
            <div class="bot-avatar" role="img" aria-label="Dr. OrganicBot chemistry assistant"></div>
            <h1 class="bot-name">Dr. OrganicBot</h1>
            <p class="bot-description">Your AI Lab Partner for Organic Chemistry Distillation</p>
        </header>
        
        <div class="chat-container">
            <section class="info-panel" aria-labelledby="info-title">
                <h2 class="info-title" id="info-title">ðŸŽ¯ How I Help You Learn</h2>
                <p class="info-text">
                    I know organic chemistry well and I'm here to guide your thinking! Ask me about molecular structures, 
                    intermolecular forces, distillation techniques, or anything related to your lab. I'll ask you questions 
                    to help you discover the answers rather than just telling you what to think.
                </p>
            </section>
            
            <main id="main-content" class="chat-messages" aria-live="polite" aria-label="Chat conversation" role="log" id="chatMessages">
                <div class="message">
                    <div class="message-avatar" role="img" aria-label="Dr. OrganicBot">ðŸ§ª</div>
                    <div class="message-content">
                        Hi! I'm your AI lab partner for the distillation experiment. I'm here to help you understand the organic chemistry behind what you're doing.
                        <br><br>
                        You can ask me about:
                        <br>â€¢ Molecular structures and properties
                        <br>â€¢ Why compounds have different boiling points  
                        <br>â€¢ Distillation techniques and observations
                        <br>â€¢ Raoult's Law and vapor pressure
                        <br>â€¢ Data analysis and error sources
                        <br><br>
                        What would you like to explore first?
                    </div>
                </div>
            </main>
            
            <section class="quick-topics" aria-labelledby="topics-title">
                <h3 class="topics-title" id="topics-title">Quick Start Topics:</h3>
                <div class="topic-buttons" role="group" aria-label="Quick topic buttons">
                    <button class="topic-btn" type="button" onclick="askAbout('Why do ethyl acetate and trans-1,2-dibenzoylethylene have such different boiling points?')" aria-describedby="topic1-desc">
                        Boiling Point Differences
                        <span class="sr-only" id="topic1-desc">Learn why different organic compounds have different boiling points</span>
                    </button>
                    <button class="topic-btn" type="button" onclick="askAbout('What intermolecular forces affect distillation?')" aria-describedby="topic2-desc">
                        Intermolecular Forces
                        <span class="sr-only" id="topic2-desc">Explore how molecular interactions affect separation</span>
                    </button>
                    <button class="topic-btn" type="button" onclick="askAbout('How does Raoult\\'s Law apply to my distillation?')" aria-describedby="topic3-desc">
                        Raoult's Law
                        <span class="sr-only" id="topic3-desc">Understand vapor pressure relationships in mixtures</span>
                    </button>
                    <button class="topic-btn" type="button" onclick="askAbout('What should I observe during distillation?')" aria-describedby="topic4-desc">
                        Experimental Observations
                        <span class="sr-only" id="topic4-desc">Learn what to watch for during your experiment</span>
                    </button>
                    <button class="topic-btn" type="button" onclick="askAbout('How do I analyze my physical property data?')" aria-describedby="topic5-desc">
                        Data Analysis
                        <span class="sr-only" id="topic5-desc">Interpret your experimental measurements and results</span>
                    </button>
                    <button class="topic-btn" type="button" onclick="askAbout('When should I use simple vs fractional distillation?')" aria-describedby="topic6-desc">
                        Distillation Methods
                        <span class="sr-only" id="topic6-desc">Choose the right separation technique for your compounds</span>
                    </button>
                </div>
            </section>
            
            <section class="chat-input-area" aria-labelledby="input-title">
                <h3 class="sr-only" id="input-title">Type your question</h3>
                <div class="input-container">
                    <label for="chatInput" class="sr-only">Ask a chemistry question</label>
                    <input type="text" 
                           class="chat-input" 
                           id="chatInput" 
                           placeholder="Ask me about molecular structure, distillation, or any organic chemistry concept..."
                           autocomplete="off"
                           aria-describedby="input-help" />
                    <div class="sr-only" id="input-help">Type your question and press Enter or click the send button</div>
                    <button class="send-button" type="button" aria-label="Send your chemistry question">â†’</button>
                </div>
            </section>
        </div>
    </div>
    
    <script>
        let conversationHistory = [];
        
        // AI Lab Partner Knowledge Base
        const organicChemistryKnowledge = {
            boilingPoints: {
                factors: ["molecular weight", "intermolecular forces", "molecular shape", "polarity"],
                guide: "What molecular features do you think would make it harder for molecules to escape from the liquid phase?"
            },
            intermolecularForces: {
                types: ["van der Waals", "dipole-dipole", "hydrogen bonding", "Ï€-Ï€ stacking"],
                guide: "Looking at the molecular structures, what types of intermolecular interactions do you see?"
            },
            distillationPrinciples: {
                concepts: ["vapor pressure", "Raoult's Law", "vapor-liquid equilibrium"],
                guide: "How do you think vapor pressure relates to what distills first?"
            },
            experimentalTips: {
                observations: ["temperature behavior", "drop rate", "color changes", "clarity"],
                guide: "What does the temperature behavior tell you about the purity of what's distilling?"
            }
        };
        
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (message) {
                addMessage(message, 'user');
                input.value = '';
                
                // Generate AI response
                setTimeout(() => {
                    const response = generateResponse(message);
                    addMessage(response, 'bot');
                }, 800);
            }
        }
        
        function addMessage(content, sender) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = sender === 'user' ? 'You' : 'ðŸ§ª';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.innerHTML = content;
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageContent);
            messagesContainer.appendChild(messageDiv);
            
            // Force scroll to bottom
            setTimeout(() => {
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }, 100);
            
            conversationHistory.push({sender, content});
        }
        
        function askAbout(question) {
            const input = document.getElementById('chatInput');
            input.value = question;
            sendMessage();
        }
        
        function generateResponse(userMessage) {
            const msg = userMessage.toLowerCase();
            
            // Boiling point questions
            if (msg.includes('boiling point') || msg.includes('77') || msg.includes('350') || msg.includes('ethyl acetate')) {
                return `Great question about boiling points! Let me guide your thinking here.
                
                <div class="reference-data">
                    <div class="reference-title">Compare These Structures:</div>
                    Ethyl acetate: <span class="chemical-formula">CHâ‚ƒCOOCHâ‚‚CHâ‚ƒ</span> (bp 77Â°C)<br>
                    trans-1,2-Dibenzoylethylene: <span class="chemical-formula">Câ‚†Hâ‚…CO-CH=CH-COCâ‚†Hâ‚…</span> (bp 350Â°C)
                </div>
                
                What do you notice about the size and complexity of these molecules? How do you think molecular size affects the strength of intermolecular forces?
                
                Think about it: What has to happen at the molecular level for a liquid to boil?`;
            }
            
            // Intermolecular forces
            if (msg.includes('intermolecular') || msg.includes('forces') || msg.includes('van der waals') || msg.includes('dipole')) {
                return `Excellent question about intermolecular forces! These are key to understanding distillation.
                
                Looking at your compounds, what types of intermolecular forces do you think are present?
                
                <div class="reference-data">
                    <div class="reference-title">Consider These Force Types:</div>
                    â€¢ Van der Waals (dispersion) - all molecules have these<br>
                    â€¢ Dipole-dipole - polar molecules<br>  
                    â€¢ Hydrogen bonding - H attached to N, O, or F<br>
                    â€¢ Ï€-Ï€ stacking - aromatic rings
                </div>
                
                Which molecule do you think has stronger intermolecular forces overall? How would that affect how much energy is needed to make it boil?`;
            }
            
            // Raoult's Law
            if (msg.includes('raoult') || msg.includes('vapor pressure') || msg.includes('law')) {
                return `Great question about Raoult's Law! This is fundamental to understanding distillation behavior.
                
                <div class="reference-data">
                    <div class="reference-title">Raoult's Law:</div>
                    P<sub>total</sub> = X<sub>A</sub> Ã— PÂ°<sub>A</sub> + X<sub>B</sub> Ã— PÂ°<sub>B</sub>
                </div>
                
                What do you think each term in this equation represents? 
                
                Here's a thought experiment: If you have a mixture of two liquids with very different vapor pressures, which one would you expect to dominate the vapor phase above the liquid?
                
                How does this connect to what distills first in your experiment?`;
            }
            
            // Experimental observations
            if (msg.includes('observe') || msg.includes('temperature') || msg.includes('distill') || msg.includes('drops')) {
                return `Great question about experimental observations! This is where theory meets practice.
                
                <div class="reference-data">
                    <div class="reference-title">Key Things to Watch:</div>
                    â€¢ Temperature stability vs. fluctuation<br>
                    â€¢ Rate of condensation (drops per minute)<br>
                    â€¢ Physical appearance of distillate<br>
                    â€¢ Any color or clarity changes
                </div>
                
                What do you think it means if your temperature:
                â€¢ Stays steady at 77Â°C for a while?
                â€¢ Jumps around between 80-90Â°C?
                â€¢ Gradually rises from 77Â°C to 85Â°C?
                
                How would each scenario relate to the purity of what's distilling?`;
            }
            
            // Data analysis
            if (msg.includes('data') || msg.includes('error') || msg.includes('refractive') || msg.includes('density')) {
                return `Excellent question about data analysis! Your measurements tell a story about your separation quality.
                
                <div class="reference-data">
                    <div class="reference-title">Physical Properties to Compare:</div>
                    <table class="data-table">
                        <tr><th>Property</th><th>Ethyl Acetate</th><th>Meaning</th></tr>
                        <tr><td>Boiling Point</td><td>77Â°C</td><td>Purity indicator</td></tr>
                        <tr><td>Refractive Index</td><td>1.372</td><td>Molecular structure</td></tr>
                        <tr><td>Density</td><td>0.902 g/mL</td><td>Molecular packing</td></tr>
                    </table>
                </div>
                
                How close are your measured values to literature values? What do you think causes differences?
                
                If your refractive index is higher than expected, what might that suggest about impurities?`;
            }
            
            // Distillation methods
            if (msg.includes('simple') || msg.includes('fractional') || msg.includes('method') || msg.includes('technique')) {
                return `Great question about distillation methods! The choice depends on your specific separation challenge.
                
                <div class="reference-data">
                    <div class="reference-title">Method Selection Guide:</div>
                    â€¢ Simple distillation: bp difference >25Â°C<br>
                    â€¢ Fractional distillation: bp difference <25Â°C<br>
                    â€¢ Special techniques: azeotropes, heat-sensitive compounds
                </div>
                
                For your ethyl acetate separation (bp difference ~270Â°C), which method makes sense?
                
                What do you think would happen if you tried to separate two compounds with boiling points only 5Â°C apart using simple distillation?
                
                How does the number of theoretical plates in a fractionating column relate to separation efficiency?`;
            }
            
            // General chemistry guidance
            if (msg.includes('help') || msg.includes('understand') || msg.includes('explain')) {
                return `I'm here to help guide your thinking! What specific aspect would you like to explore?
                
                Try asking me about:
                â€¢ "Why do these molecules have different boiling points?"
                â€¢ "What intermolecular forces are involved?"
                â€¢ "How do I interpret my experimental observations?"
                â€¢ "What does my data tell me about separation efficiency?"
                
                What's on your mind with this experiment?`;
            }
            
            // Default response for other questions
            return `That's an interesting question! Let me ask you something to guide your thinking:
            
            What do you already know about this topic? And what specific aspect are you trying to understand better?
            
            I find it's helpful to start with the molecular level - how do you think the structure of your compounds relates to what you're observing?`;
        }
        
        // Enter key functionality and button click
        document.addEventListener('DOMContentLoaded', function() {
            const chatInput = document.getElementById('chatInput');
            const sendButton = document.querySelector('.send-button');
            
            // Enter key to send message
            chatInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    sendMessage();
                }
            });
            
            // Click button to send message  
            sendButton.addEventListener('click', function(e) {
                e.preventDefault();
                sendMessage();
                // Keep focus on input for continued typing
                chatInput.focus();
            });
            
            // Focus on input when page loads
            chatInput.focus();
        });
    </script>
</body>
</html>
